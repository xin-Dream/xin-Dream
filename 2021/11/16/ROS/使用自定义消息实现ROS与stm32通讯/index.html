<!DOCTYPE html>
<html>
<head>
    <title>DreamCube</title>
    <meta charset="utf-8">

    <!-- 引入配置文件 -->
    
<link rel="stylesheet" href="/css/main.css">


    <!-- 字体图片库 -->
    
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

    
<meta name="generator" content="Hexo 5.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Dream" type="application/atom+xml">
</head>
<body>

    <div id="main">
        <!-- 引入侧边栏 -->
        <aside id="#aside">
            <!-- 搜索栏 -->
<div id="search">
    <input class="search-input" type="text" placeholder="search">
    <i class="fa fa-search"></i>
</div>

<!-- 侧边目录栏 -->
<div id="tree">
    

    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                Linux
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/04/22/Linux/Arm架构ubuntu18-04安装Archiconda/">
                                <i class="fa fa-file"></i>
                                Arm架构ubuntu18-04安装Archiconda
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/02/08/Linux/JetsonTX2刷机记录（JetPack4-5）/">
                                <i class="fa fa-file"></i>
                                JetsonTX2刷机记录（JetPack4-5）
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/23/Linux/JetsonTX2远程连接方案/">
                                <i class="fa fa-file"></i>
                                JetsonTX2远程连接方案
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/21/Linux/JetsonTX2连接5GWIFI/">
                                <i class="fa fa-file"></i>
                                JetsonTX2连接5GWIFI
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/03/Linux/Ubuntu18-04安装AlphaPose/">
                                <i class="fa fa-file"></i>
                                Ubuntu18-04安装AlphaPose
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/12/05/Linux/Ubuntu配置KinectV2/">
                                <i class="fa fa-file"></i>
                                Ubuntu配置KinectV2
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/02/08/Linux/VMware中ubuntu的磁盘扩展/">
                                <i class="fa fa-file"></i>
                                VMware中ubuntu的磁盘扩展
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/23/Linux/WSL与VMware虚拟机的冲突/">
                                <i class="fa fa-file"></i>
                                WSL与VMware虚拟机的冲突
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/23/Linux/Win10在非系统盘安装WSL-ubuntu18-04/">
                                <i class="fa fa-file"></i>
                                Win10在非系统盘安装WSL-ubuntu18-04
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/01/Linux/jetsonTX2安装Pytorch/">
                                <i class="fa fa-file"></i>
                                jetsonTX2安装Pytorch
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/01/Linux/jetsonTX2开启风扇/">
                                <i class="fa fa-file"></i>
                                jetsonTX2开启风扇
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/Linux/termux架设手机server/">
                                <i class="fa fa-file"></i>
                                termux架设手机server
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/23/Linux/ubuntu18-04中串口绑定/">
                                <i class="fa fa-file"></i>
                                ubuntu18-04中串口绑定
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/02/Linux/ubuntu18-04安装pytorch/">
                                <i class="fa fa-file"></i>
                                ubuntu18-04安装pytorch
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/12/Linux/ubuntu中命令记录/">
                                <i class="fa fa-file"></i>
                                ubuntu中命令记录
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/Linux/ubuntu中常用软件安装/">
                                <i class="fa fa-file"></i>
                                ubuntu中常用软件安装
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/26/Linux/ubuntu中权限的说明/">
                                <i class="fa fa-file"></i>
                                ubuntu中权限的说明
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/27/Linux/ubuntu中添加Jetbrains系列快捷方式/">
                                <i class="fa fa-file"></i>
                                ubuntu中添加Jetbrains系列快捷方式
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/03/Linux/ubuntu安装zsh/">
                                <i class="fa fa-file"></i>
                                ubuntu安装zsh
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/24/Linux/ubuntu开机启动软件/">
                                <i class="fa fa-file"></i>
                                ubuntu开机启动软件
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/22/Linux/ubuntu笔记本设置合上屏幕不休眠/">
                                <i class="fa fa-file"></i>
                                ubuntu笔记本设置合上屏幕不休眠
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/29/Linux/ubuntu系统重装配置/">
                                <i class="fa fa-file"></i>
                                ubuntu系统重装配置
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/06/21/Linux/vmware安装MacOS/">
                                <i class="fa fa-file"></i>
                                vmware安装MacOS
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/26/Linux/vscode中免密登陆ubuntu/">
                                <i class="fa fa-file"></i>
                                vscode中免密登陆ubuntu
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/Linux/vscode通过ssh远程连接树莓派/">
                                <i class="fa fa-file"></i>
                                vscode通过ssh远程连接树莓派
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/Linux/安装windows10和Ubuntu18-04双系统/">
                                <i class="fa fa-file"></i>
                                安装windows10和Ubuntu18-04双系统
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/27/Linux/局域网中windows上添加ubuntu的共享文件夹/">
                                <i class="fa fa-file"></i>
                                局域网中windows上添加ubuntu的共享文件夹
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/Linux/手机上的Linux体验-Aid-learning/">
                                <i class="fa fa-file"></i>
                                手机上的Linux体验-Aid-learning
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                ROS
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/08/21/ROS/Clion中添加urdf文件类型/">
                                <i class="fa fa-file"></i>
                                Clion中添加urdf文件类型
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/14/ROS/PyQt5开发ROS界面-Button实现Publish/">
                                <i class="fa fa-file"></i>
                                PyQt5开发ROS界面-Button实现Publish
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/20/ROS/PyQt5开发ROS界面-使用滑条发布Twist消息/">
                                <i class="fa fa-file"></i>
                                PyQt5开发ROS界面-使用滑条发布Twist消息
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/08/ROS/ROS-melodic安装cartographer/">
                                <i class="fa fa-file"></i>
                                ROS-melodic安装cartographer
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/12/05/ROS/ROS与Anaconda共存/">
                                <i class="fa fa-file"></i>
                                ROS与Anaconda共存
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/12/05/ROS/ROS中使用KinecV2/">
                                <i class="fa fa-file"></i>
                                ROS中使用KinecV2
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/05/ROS/ROS中使用棋盘格标定摄像头/">
                                <i class="fa fa-file"></i>
                                ROS中使用棋盘格标定摄像头
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/23/ROS/ROS主从网络初探/">
                                <i class="fa fa-file"></i>
                                ROS主从网络初探
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/04/ROS/ROS使用RealSenseD435i/">
                                <i class="fa fa-file"></i>
                                ROS使用RealSenseD435i
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/ROS/ROS学习笔记（一）/">
                                <i class="fa fa-file"></i>
                                ROS学习笔记（一）
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/ROS/ROS学习笔记（二）/">
                                <i class="fa fa-file"></i>
                                ROS学习笔记（二）
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/30/ROS/ROS安装包记录/">
                                <i class="fa fa-file"></i>
                                ROS安装包记录
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/30/ROS/ROS小问题总结/">
                                <i class="fa fa-file"></i>
                                ROS小问题总结
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/14/ROS/Solidworks模型导出urdf/">
                                <i class="fa fa-file"></i>
                                Solidworks模型导出urdf
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/23/ROS/WSL安装ROS-melodic/">
                                <i class="fa fa-file"></i>
                                WSL安装ROS-melodic
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/ROS/ubuntu18-04LTS安装ROS/">
                                <i class="fa fa-file"></i>
                                ubuntu18-04LTS安装ROS
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file active">
                            <a href="/2021/11/16/ROS/使用自定义消息实现ROS与stm32通讯/">
                                <i class="fa fa-file"></i>
                                使用自定义消息实现ROS与stm32通讯
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/18/ROS/在stm32中运行ROS节点-rosserial-stm32/">
                                <i class="fa fa-file"></i>
                                在stm32中运行ROS节点-rosserial-stm32
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/20/ROS/控制sw2urdf导出模型在Rviz和Gazebo中运动/">
                                <i class="fa fa-file"></i>
                                控制sw2urdf导出模型在Rviz和Gazebo中运动
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/06/ROS/树莓派安装ROS/">
                                <i class="fa fa-file"></i>
                                树莓派安装ROS
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/05/ROS/解决在Pycharm中无法import安装的ROS库/">
                                <i class="fa fa-file"></i>
                                解决在Pycharm中无法import安装的ROS库
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                hexo
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/07/14/hexo/hexo中文章置顶/">
                                <i class="fa fa-file"></i>
                                hexo中文章置顶
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/13/hexo/hexo主题设置-Ayer/">
                                <i class="fa fa-file"></i>
                                hexo主题设置-Ayer
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/06/hexo/hexo博客使用emoji表情/">
                                <i class="fa fa-file"></i>
                                hexo博客使用emoji表情
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/10/10/hexo/hexo博客使用gitalk评论/">
                                <i class="fa fa-file"></i>
                                hexo博客使用gitalk评论
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/22/hexo/hexo博客加密/">
                                <i class="fa fa-file"></i>
                                hexo博客加密
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/10/21/hexo/hexo博客插入视频/">
                                <i class="fa fa-file"></i>
                                hexo博客插入视频
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/06/hexo/hexo博客绑定域名/">
                                <i class="fa fa-file"></i>
                                hexo博客绑定域名
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/22/hexo/hexo插入图片/">
                                <i class="fa fa-file"></i>
                                hexo插入图片
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/18/hexo/hexo文章引用自己的文章/">
                                <i class="fa fa-file"></i>
                                hexo文章引用自己的文章
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/25/hexo/hexo配置记录/">
                                <i class="fa fa-file"></i>
                                hexo配置记录
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/06/20/hexo/vscode中markdown使用技巧/">
                                <i class="fa fa-file"></i>
                                vscode中markdown使用技巧
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/06/hexo/使用Typora写hexo博客/">
                                <i class="fa fa-file"></i>
                                使用Typora写hexo博客
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/06/hexo/使用utools快速新建hexo博客/">
                                <i class="fa fa-file"></i>
                                使用utools快速新建hexo博客
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/29/hexo/修改vscode中文件排序顺序/">
                                <i class="fa fa-file"></i>
                                修改vscode中文件排序顺序
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/18/hexo/修改文章排序/">
                                <i class="fa fa-file"></i>
                                修改文章排序
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/24/hexo/博客网站加密/">
                                <i class="fa fa-file"></i>
                                博客网站加密
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/18/hexo/在ipad上写博客/">
                                <i class="fa fa-file"></i>
                                在ipad上写博客
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/10/04/hexo/在一台电脑中部署两个hexo博客/">
                                <i class="fa fa-file"></i>
                                在一台电脑中部署两个hexo博客
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/05/hexo/安装ROS的ubuntu18-04中配置hexo/">
                                <i class="fa fa-file"></i>
                                安装ROS的ubuntu18-04中配置hexo
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                windows
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/07/22/windows/WSL与移动热点的冲突/">
                                <i class="fa fa-file"></i>
                                WSL与移动热点的冲突
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/windows/Win10安装SQLserver2016/">
                                <i class="fa fa-file"></i>
                                Win10安装SQLserver2016
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/09/windows/win10好用软件-PowerKeys/">
                                <i class="fa fa-file"></i>
                                win10好用软件-PowerKeys
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/26/windows/win10开机启动热点/">
                                <i class="fa fa-file"></i>
                                win10开机启动热点
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/27/windows/win10设置有线网络与WIFI网络优先级/">
                                <i class="fa fa-file"></i>
                                win10设置有线网络与WIFI网络优先级
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/29/windows/win10设置网络连接频段/">
                                <i class="fa fa-file"></i>
                                win10设置网络连接频段
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/windows/win10重装系统配置笔记/">
                                <i class="fa fa-file"></i>
                                win10重装系统配置笔记
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/04/14/windows/windows配置JAVA环境/">
                                <i class="fa fa-file"></i>
                                windows配置JAVA环境
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/28/windows/在BIOS中打开VMX/">
                                <i class="fa fa-file"></i>
                                在BIOS中打开VMX
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/03/windows/多机共享键鼠软件Barrier/">
                                <i class="fa fa-file"></i>
                                多机共享键鼠软件Barrier
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/13/windows/网易云音乐任务栏控制按钮/">
                                <i class="fa fa-file"></i>
                                网易云音乐任务栏控制按钮
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/12/11/人体姿态识别算法特点概括/">
                                <i class="fa fa-file"></i>
                                人体姿态识别算法特点概括
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                单片机
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/09/06/单片机/DMA读取ADC数据/">
                                <i class="fa fa-file"></i>
                                DMA读取ADC数据
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/27/单片机/Ubuntu18-04配置Clion开发stm32/">
                                <i class="fa fa-file"></i>
                                Ubuntu18-04配置Clion开发stm32
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/单片机/stm32CubeIDE串口输出重定向/">
                                <i class="fa fa-file"></i>
                                stm32CubeIDE串口输出重定向
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/单片机/stm32cubeIDE初始配置/">
                                <i class="fa fa-file"></i>
                                stm32cubeIDE初始配置
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/06/单片机/stm32使用OLED/">
                                <i class="fa fa-file"></i>
                                stm32使用OLED
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/18/单片机/stm32使用USB虚拟串口/">
                                <i class="fa fa-file"></i>
                                stm32使用USB虚拟串口
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/06/单片机/stm32程序框架/">
                                <i class="fa fa-file"></i>
                                stm32程序框架
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/20/单片机/使用CubeMX-CubeIDE配置时钟树注意事项/">
                                <i class="fa fa-file"></i>
                                使用CubeMX-CubeIDE配置时钟树注意事项
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/06/14/单片机/配置CLion开发stm32/">
                                <i class="fa fa-file"></i>
                                配置CLion开发stm32
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                机器视觉
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/09/21/机器视觉/Anaconda配置tensorflow环境/">
                                <i class="fa fa-file"></i>
                                Anaconda配置tensorflow环境
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/04/机器视觉/Ubuntu18.04使用RealSenseD435i/">
                                <i class="fa fa-file"></i>
                                Ubuntu18.04使用RealSenseD435i
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/12/05/机器视觉/Ubuntu20-04编译安装opencv/">
                                <i class="fa fa-file"></i>
                                Ubuntu20-04编译安装opencv
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/机器视觉/树莓派配置opencv环境/">
                                <i class="fa fa-file"></i>
                                树莓派配置opencv环境
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                机械类
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/07/27/机械类/Solidworks焊件结构中添加型材/">
                                <i class="fa fa-file"></i>
                                Solidworks焊件结构中添加型材
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/25/机械类/solidworks中子装配体可动/">
                                <i class="fa fa-file"></i>
                                solidworks中子装配体可动
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/29/机械类/solidworks装配体整体3D打印/">
                                <i class="fa fa-file"></i>
                                solidworks装配体整体3D打印
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/25/机械类/机械制图尺寸标注原则与技巧/">
                                <i class="fa fa-file"></i>
                                机械制图尺寸标注原则与技巧
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/02/01/机械类/装配图原则与技巧/">
                                <i class="fa fa-file"></i>
                                装配图原则与技巧
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                杂项
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/11/14/杂项/Pycharm-Clion远程开发要注意的问题/">
                                <i class="fa fa-file"></i>
                                Pycharm-Clion远程开发要注意的问题
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/10/22/杂项/创建自己的word模板/">
                                <i class="fa fa-file"></i>
                                创建自己的word模板
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/04/杂项/在word中插入代码/">
                                <i class="fa fa-file"></i>
                                在word中插入代码
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/10/21/杂项/学习交流会/">
                                <i class="fa fa-file"></i>
                                学习交流会
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/19/杂项/文献管理与阅读/">
                                <i class="fa fa-file"></i>
                                文献管理与阅读
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/10/29/杂项/文献管理软件zotero/">
                                <i class="fa fa-file"></i>
                                文献管理软件zotero
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/07/杂项/桌面工作台计划/">
                                <i class="fa fa-file"></i>
                                桌面工作台计划
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/11/01/杂项/毕业设计/">
                                <i class="fa fa-file"></i>
                                毕业设计
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                电路
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/08/24/电路/AltiumDesigner创建自己的库/">
                                <i class="fa fa-file"></i>
                                AltiumDesigner创建自己的库
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
                    <ul>
                        <li class="directory">
                            <a href="#" class="directory">
                                <i class="fa fa-folder"></i>
                                程序设计
                            </a>
                            
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/程序设计/AndroidStudio错误“Gradle sync failed”/">
                                <i class="fa fa-file"></i>
                                AndroidStudio错误“Gradle sync failed”
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/02/程序设计/Android判断文本输入框是否为空/">
                                <i class="fa fa-file"></i>
                                Android判断文本输入框是否为空
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/01/程序设计/Android模拟器长时间运行后不显示Toast/">
                                <i class="fa fa-file"></i>
                                Android模拟器长时间运行后不显示Toast
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/09/08/程序设计/C-C-混合编译要注意的问题/">
                                <i class="fa fa-file"></i>
                                C-C-混合编译要注意的问题
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/31/程序设计/Cannot-resolve-method-makeText/">
                                <i class="fa fa-file"></i>
                                Cannot-resolve-method-makeText
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/02/程序设计/IDEA-AndroidStudio创建GetSet/">
                                <i class="fa fa-file"></i>
                                IDEA-AndroidStudio创建GetSet
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/07/18/程序设计/LeetCode-202-happy-number/">
                                <i class="fa fa-file"></i>
                                LeetCode-202-happy-number
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/13/程序设计/Python创建列表/">
                                <i class="fa fa-file"></i>
                                Python创建列表
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/06/13/程序设计/Python多文件访问全局变量/">
                                <i class="fa fa-file"></i>
                                Python多文件访问全局变量
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/01/28/程序设计/git使用笔记/">
                                <i class="fa fa-file"></i>
                                git使用笔记
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/29/程序设计/git问题解决/">
                                <i class="fa fa-file"></i>
                                git问题解决
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/05/28/程序设计/pycharm无法识别自己导入的模块/">
                                <i class="fa fa-file"></i>
                                pycharm无法识别自己导入的模块
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/01/程序设计/和equal的区别/">
                                <i class="fa fa-file"></i>
                                和equal的区别
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/06/13/程序设计/在Clion上开始LeetCode/">
                                <i class="fa fa-file"></i>
                                在Clion上开始LeetCode
                            </a>
                        </li>
                    </ul>
    
                    <ul>
                        <li class="file">
                            <a href="/2021/08/02/程序设计/配置Tomcat服务器/">
                                <i class="fa fa-file"></i>
                                配置Tomcat服务器
                            </a>
                        </li>
                    </ul>
    
                        </li>
                        
                    </ul>
    
</div>


        </aside>

        <!-- 引入导航 -->
        <nav>
            <ul id="menu">
    <!-- 内部链接本页面直接跳转 -->
    

    <!-- 外部链接打开新的窗口跳转 -->
    

</ul>

        </nav>

        <!-- 引入正文 -->
        <div id="content">
            <div id="article">
                <div>
    <span id="post-author">作者: ZGX</span>
    <span id="post-date">2021-11-16 12:21:41</span>
</div>

<div id="article">
    <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote>
<p>之前可能需要自定义单片机与ROS的通讯内容，在之前的博客中实现了在stm32中运行ROS节点，所以如果我们可以同步ROS工作空间中自定义的消息格式，那么只要在单片机中完成消息内容赋值后，就可以使用publish或service直接实现消息的发送</p>
</blockquote>
<h1 id="1-在ROS工作空间内自定义消息"><a href="#1-在ROS工作空间内自定义消息" class="headerlink" title="1 在ROS工作空间内自定义消息"></a>1 在ROS工作空间内自定义消息</h1><ol>
<li><p>创建工作空间</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p robot_ws/src</span><br><span class="line"><span class="built_in">cd</span> robot_ws</span><br><span class="line">catkin_make</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>clone rosserial_stm32</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> robot_ws/src</span><br><span class="line">git <span class="built_in">clone</span> &lt;https://github.com/yoneken/rosserial_stm32.git&gt;</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">catkin_make</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>创建自定义消息</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> robot_ws/src</span><br><span class="line">catkin_create ros_stm32_bridge rospy roscpp std_msgs</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">catkin_make</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在上一步创建的功能包 ros_stm32_bridge中创建msg目录，在msg文件夹内创建消息文件</span></span><br><span class="line">robot_ws</span><br><span class="line">	ros_stm32_bridge</span><br><span class="line">		msg</span><br><span class="line">			stm32_motor.msg</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>添加依赖</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package.xml</span></span><br><span class="line">&lt;build_depend&gt;message_generation&lt;/build_depend&gt;</span><br><span class="line">&lt;exec_depend&gt;message_runtime&lt;/exec_depend&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># CMakeLists.txt</span></span><br><span class="line">find_package(catkin REQUIRED COMPONENTS</span><br><span class="line">  roscpp</span><br><span class="line">  rospy</span><br><span class="line">  std_msgs</span><br><span class="line">  message_generation</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">add_message_files(</span><br><span class="line">  FILES</span><br><span class="line">  Person.msg</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">generate_messages(</span><br><span class="line">  DEPENDENCIES</span><br><span class="line">  std_msgs</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">catkin_package(</span><br><span class="line"><span class="comment">#  INCLUDE_DIRS include</span></span><br><span class="line"><span class="comment">#  LIBRARIES demo02_talker_listener</span></span><br><span class="line">  CATKIN_DEPENDS roscpp rospy std_msgs message_runtime</span><br><span class="line"><span class="comment">#  DEPENDS system_lib</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>将自定义消息添加到rospack</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rospack profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看rospack</span></span><br><span class="line">rospack list</span><br></pre></td></tr></tbody></table></figure>
<p><img src="/images/%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B6%88%E6%81%AF%E5%AE%9E%E7%8E%B0ROS%E4%B8%8Estm32%E9%80%9A%E8%AE%AF/image-20211118212916258.png" alt="image-20211118212916258"></p>
<p>使用rospack list查看，发现了如下路径，说明ros_stm32_bridge已经被添加进去了</p>
<p><img src="/images/%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B6%88%E6%81%AF%E5%AE%9E%E7%8E%B0ROS%E4%B8%8Estm32%E9%80%9A%E8%AE%AF/image-20211118212929773.png" alt="image-20211118212929773"></p>
</li>
</ol>
<h1 id="2-使用Rosserial-stm32编译生成头文件"><a href="#2-使用Rosserial-stm32编译生成头文件" class="headerlink" title="2 使用Rosserial_stm32编译生成头文件"></a>2 使用Rosserial_stm32编译生成头文件</h1><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rosrun rosserial_stm32 make_libraries.py stm32_project/Core</span><br><span class="line"><span class="comment"># 请注意这里最后指向的目录，要指向Inc目录的上一级</span></span><br><span class="line"><span class="comment"># 完成后可以进入到Inc目录下查看生成的文件</span></span><br></pre></td></tr></tbody></table></figure>
<p><img src="/images/%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B6%88%E6%81%AF%E5%AE%9E%E7%8E%B0ROS%E4%B8%8Estm32%E9%80%9A%E8%AE%AF/image-20211118212942241.png" alt="image-20211118212942241"></p>
<p>接下来就可以去stm32中创建节点发布消息了</p>
<h1 id="3-ROS与stm32通信验证"><a href="#3-ROS与stm32通信验证" class="headerlink" title="3 ROS与stm32通信验证"></a>3 ROS与stm32通信验证</h1><h2 id="3-1-功能包说明"><a href="#3-1-功能包说明" class="headerlink" title="3.1 功能包说明"></a>3.1 功能包说明</h2><p>在一个机器人的设计中，上位机与下位机间通讯的内容可能包含很多类，所以需要自定义的消息也会有多类，所以将自定义的msg和srv单独放到一个功能包内，应该会更方便些。</p>
<p>经过上面的文章已经可以生成自定义消息了，我们重新整理下功能包中的结构：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">    ├── custom_msg                 <span class="comment"># 自定义消息的功能包</span></span><br><span class="line">    │   ├── CMakeLists.txt</span><br><span class="line">    │   ├── include</span><br><span class="line">    │   │   └── custom_msg</span><br><span class="line">    │   ├── msg</span><br><span class="line">    │   │   └── IMU.msg           <span class="comment"># 自定义的消息文件</span></span><br><span class="line">    │   ├── package.xml</span><br><span class="line">    │   └── src</span><br><span class="line">    └── ros_stm32_bridge           <span class="comment"># 与stm32通讯的功能包</span></span><br><span class="line">        ├── CMakeLists.txt</span><br><span class="line">        ├── include</span><br><span class="line">        │   └── ros_stm32_bridge</span><br><span class="line">        ├── launch</span><br><span class="line">        │   └── ros_talk_stm32.launch</span><br><span class="line">        ├── package.xml</span><br><span class="line">        ├── scripts</span><br><span class="line">        │   └── 01_data_transform.py   <span class="comment"># 调用自定义消息的python文件</span></span><br><span class="line">        └── src</span><br><span class="line">            ├── data_pub.cpp</span><br><span class="line">            └── data_sub.cpp</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3-2-stm32中发送自定义消息"><a href="#3-2-stm32中发送自定义消息" class="headerlink" title="3.2 stm32中发送自定义消息"></a>3.2 stm32中发送自定义消息</h2><p>当我们使用前面的步骤生成头文件后，将头文件复制到stm32的Inc文件夹内，即可编译运行，在之前的文章中有说明。具体如何在stm32中运行ROS节点，参考上一篇文章。</p>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// robot.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;robot.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ros.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;custom_msg/IMU.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">ros::NodeHandle nh;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发布IMU消息</span></span><br><span class="line">custom_msg::IMU imu_msg;</span><br><span class="line"><span class="function">ros::Publisher <span class="title">Arena_imu</span><span class="params">(<span class="string">"Arena_imu"</span>,&amp;imu_msg)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">(<span class="keyword">void</span>)</span> </span>{</span><br><span class="line">    nh.initNode();</span><br><span class="line"></span><br><span class="line">    nh.advertise(Arena_imu);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">(<span class="keyword">void</span>)</span> </span>{</span><br><span class="line"></span><br><span class="line">    imu_msg.PITCH=(<span class="keyword">float</span>) sensors.PITCH/ <span class="number">32768</span> * <span class="number">180</span>;</span><br><span class="line">    imu_msg.ROLL=(<span class="keyword">float</span>) sensors.ROLL/ <span class="number">32768</span> * <span class="number">180</span>;</span><br><span class="line">    imu_msg.YAW=(<span class="keyword">float</span>) sensors.YAW/ <span class="number">32768</span> * <span class="number">180</span>;</span><br><span class="line"></span><br><span class="line">    Arena_imu.publish(&amp;imu_msg);</span><br><span class="line"></span><br><span class="line">    nh.spinOnce();</span><br><span class="line"></span><br><span class="line">    HAL_Delay(<span class="number">100</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3-3-上位机中接收自定义消息"><a href="#3-3-上位机中接收自定义消息" class="headerlink" title="3.3 上位机中接收自定义消息"></a>3.3 上位机中接收自定义消息</h2><ol>
<li><p>功能包设置</p>
<p>要在功能包ros_stm32_bridge中订阅到custom_msg功能包中自定义的消息，需要修改一下ros_stm32_bridge中的两个配置文件，如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CMakeLists.txt</span></span><br><span class="line"></span><br><span class="line">find_package(catkin REQUIRED COMPONENTS</span><br><span class="line">  roscpp</span><br><span class="line">  rospy</span><br><span class="line">  std_msgs</span><br><span class="line">  custom_msg                     <span class="comment"># 添加我们自定义的功能包名称</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Specify additional locations of header files</span></span><br><span class="line"><span class="comment">## Your package locations should be listed before other locations</span></span><br><span class="line">include_directories(</span><br><span class="line">  include</span><br><span class="line">  <span class="variable">${catkin_INCLUDE_DIRS}</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package.xml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加如下两项</span></span><br><span class="line">&lt;build_depend&gt;custom_msg&lt;/build_depend&gt;</span><br><span class="line">&lt;exec_depend&gt;custom_msg&lt;/exec_depend&gt;</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>订阅者</p>
<p>这里我通过订阅IMU的消息，将两个角度信息转化为速度发布给仿真环境下的机器人</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> rospy</span><br><span class="line"><span class="keyword">from</span> custom_msg.msg <span class="keyword">import</span> IMU</span><br><span class="line"><span class="keyword">from</span> geometry_msgs.msg <span class="keyword">import</span> Twist</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">doIMU</span>(<span class="params">IMU</span>):</span></span><br><span class="line">    pitch=IMU.PITCH</span><br><span class="line">    roll=IMU.ROLL</span><br><span class="line">    yaw=IMU.YAW</span><br><span class="line">    twist = Twist()</span><br><span class="line"></span><br><span class="line">    Arena_pub=rospy.Publisher(<span class="string">"/cmd_vel"</span>,Twist,queue_size=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> pitch&gt;<span class="number">180</span>:</span><br><span class="line">        pitch=pitch-<span class="number">360</span></span><br><span class="line">    <span class="keyword">if</span> roll&gt;<span class="number">180</span>:</span><br><span class="line">        roll=roll-<span class="number">360</span></span><br><span class="line"></span><br><span class="line">    pitch2linear=pitch/<span class="number">20</span></span><br><span class="line">    roll2angular=roll/<span class="number">20</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> pitch&lt;<span class="number">10</span> <span class="keyword">and</span> pitch&gt;<span class="number">350</span>:</span><br><span class="line">        pitch2linear = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> roll&lt;<span class="number">10</span> <span class="keyword">and</span> roll&gt;<span class="number">350.0</span>:</span><br><span class="line">        roll2angular = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    twist.linear.x = pitch2linear</span><br><span class="line">    twist.angular.z = roll2angular</span><br><span class="line"></span><br><span class="line">    Arena_pub.publish(twist)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    rospy.init_node(<span class="string">"transformer"</span>)</span><br><span class="line"></span><br><span class="line">    sub=rospy.Subscriber(<span class="string">"Arena_imu"</span>,IMU,doIMU,queue_size=<span class="number">20</span>)</span><br><span class="line">    rospy.spin()</span><br><span class="line">    </span><br></pre></td></tr></tbody></table></figure>
<h1 id="实现效果"><a href="#实现效果" class="headerlink" title="实现效果"></a>实现效果</h1><p><img src="/images/%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B6%88%E6%81%AF%E5%AE%9E%E7%8E%B0ROS%E4%B8%8Estm32%E9%80%9A%E8%AE%AF/mmexport1638451113780.gif" alt="mmexport1638451113780"></p>
</li>
</ol>

</div>

            </div>
        </div>
        
    </div>

    <!-- 引入 js 文件 -->
    
<script src="/js/main.js"></script>


</body>
</html>
